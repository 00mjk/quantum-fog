#pragma once#include "QFog_constants.h"class C_MAIN_VIEW;class QB_NET;#include "STRINGY.h"#include "GLOBAL_FUN.h"#include "MY_FSTREAMS.h"//******************************************class	C_DOC: public LSingleDoc{protected:	SInt32				its_vers_int32;		LCaption  *			its_main_wind_cap_p;	C_MAIN_VIEW  *  	its_mview_p;	QB_NET  * 			its_net_p;	BOOLEAN  	its_has_ecases_file;	BOOLEAN 	its_has_nd_probs_file;	BOOLEAN 	its_has_bi_nd_probs_file;		BOOLEAN 	its_has_stories_file;	MY_IFSTREAM  *		its_evid_stream_p;	MY_OFSTREAM  *  	its_nd_probs_stream_p;	MY_OFSTREAM  * 		its_bi_nd_probs_stream_p;	MY_OFSTREAM  *  	its_stories_stream_p;			FSSpec 		its_io_folder_fs_spec;//its parID is DirID of the parent folder	LONG		its_io_folder_DirID;//parID of io_folder itself	STRINGY		its_io_prefix;	FSSpec		its_ecases_fs_spec;	FSSpec		its_nd_probs_fs_spec;	FSSpec		its_bi_nd_probs_fs_spec;	FSSpec		its_stories_fs_spec;		BOOLEAN 	its_do_one_ecase_at_a_time;	USHORT		its_ecase;// 0 based	BOOLEAN 	its_illustrate_stories;		VOID				name_new_doc();	VOID				open_file(FSSpec  & in_fs_spec);public://	VOID				name_new_doc();//	VOID				open_file(FSSpec  & in_fs_spec);		C_DOC(LCommander  * in_super_p, FSSpec  * in_fs_spec_p);	virtual				~C_DOC();		C_MAIN_VIEW  *   	get_mview_ptr();					VOID				write_app_name_res();	VOID				write_vers_res();	SInt32 				get_vers_int32() const;	VOID		   		read_vers_res(SInt32	  &  vers_int32);		SInt16				open_res_fork(SInt16  inPriviledges);		VOID				close_res_fork();	SInt16				get_res_fork_ref_num() const;	virtual VOID		DoSave();	virtual VOID		DoAESave(FSSpec & inFileSpec, OSType inFileType);//	virtual VOID		DoRevert();	virtual VOID		DoPrint();	BOOLEAN		import_nd_sts();	BOOLEAN		import_amps();		VOID		export_topology();	VOID		export_nd_sts();	VOID		export_amps();		BOOLEAN		handle_amps_filter_dialog();	VOID 		handle_preview_dialog();			BOOLEAN  	handle_text_files_dialog();		BOOLEAN 	open_files();	VOID		close_files();	VOID		go_forward(const CHAR * ecase_name_cstr);	VOID		meta_go_forward();	VOID		go_back_to_initial_state();	virtual BOOLEAN  ObeyCommand(CommandT  inCommand, VOID * ioParam);	VOID FindCommandStatus(		CommandT		inCommand,		BOOLEAN		&	outEnabled,		BOOLEAN		&	outUsesMark,		UInt16		&	outMark,		Str255			outName_pstr);	};#pragma mark -//******************************************inlineC_MAIN_VIEW  *   C_DOC::get_mview_ptr(){ 	return its_mview_p;}//******************************************inlineSInt32 	C_DOC::get_vers_int32()const{		return its_vers_int32;}	//******************************************inlineSInt16	C_DOC::open_res_fork(SInt16		inPriviledges)	//in	{	return mFile->OpenResourceFork(inPriviledges);}//******************************************inlineVOID	C_DOC::close_res_fork(){	mFile->CloseResourceFork();}//******************************************inlineSInt16	C_DOC::get_res_fork_ref_num() const{	return mFile->GetResourceForkRefNum();}
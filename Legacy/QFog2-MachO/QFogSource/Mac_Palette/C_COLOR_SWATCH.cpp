#include	"C_COLOR_SWATCH.h"#include 	"C_COLORS.h"#include 	"StCPTstate.h"//******************************************C_COLOR_SWATCH::C_COLOR_SWATCH(LStream  *	inStream)	//in	:LPane(inStream),	its_cur_color(C_COLORS::its_white){}//******************************************VOID	C_COLOR_SWATCH::set_cur_color(const RGBColor  & color)	//in{	its_cur_color = color;	Refresh();}//******************************************VOID	C_COLOR_SWATCH::DrawSelf(){	Rect	rect;	CalcLocalFrameRect(rect);	StCPTstate		saved_st(true, true, false);	saved_st.Normalize();		::FrameRect(&rect);	::InsetRect(&rect, 1, 1 );		::RGBForeColor(&its_cur_color);	::PaintRect(&rect);}//******************************************VOID	C_COLOR_SWATCH::ClickSelf(const SMouseDownEvent & /* inMouseDown */ ){	//MONITOR_THE_CHANGE_HERE		if(	GetClickCount()==2){		Point		pt = {-1,-1};		RGBColor	new_color;		Str255 	pstr="\ptop(bot.)half =new(old)color";		UDesktop::Deactivate();		if ( ::GetColor( pt, pstr, &its_cur_color, &new_color ) ) {			its_cur_color =new_color;			Refresh();		}		UDesktop::Activate();	}}